var Me=(u,a)=>()=>(a||u((a={exports:{}}).exports,a),a.exports);var Te=Me((Se,$)=>{(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))y(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const L of g.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&y(L)}).observe(document,{childList:!0,subtree:!0});function M(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerPolicy&&(g.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?g.credentials="include":l.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function y(l){if(l.ep)return;l.ep=!0;const g=M(l);fetch(l.href,g)}})();var $={};(function u(a,M,y,l){var g=!!(a.Worker&&a.Blob&&a.Promise&&a.OffscreenCanvas&&a.OffscreenCanvasRenderingContext2D&&a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype.transferControlToOffscreen&&a.URL&&a.URL.createObjectURL);function L(){}function z(t){var e=M.exports.Promise,w=e!==void 0?e:a.Promise;return typeof w=="function"?new w(t):(t(L,L),null)}var o=function(){var t=Math.floor(16.666666666666668),e,w,m={},E=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(I){var p=Math.random();return m[p]=requestAnimationFrame(function b(S){E===S||E+t-1<S?(E=S,delete m[p],I()):m[p]=requestAnimationFrame(b)}),p},w=function(I){m[I]&&cancelAnimationFrame(m[I])}):(e=function(I){return setTimeout(I,t)},w=function(I){return clearTimeout(I)}),{frame:e,cancel:w}}(),r=function(){var t,e,w={};function m(E){function I(p,b){E.postMessage({options:p||{},callback:b})}E.init=function(b){var S=b.transferControlToOffscreen();E.postMessage({canvas:S},[S])},E.fire=function(b,S,B){if(e)return I(b,null),e;var T=Math.random().toString(36).slice(2);return e=z(function(D){function q(P){P.data.callback===T&&(delete w[T],E.removeEventListener("message",q),e=null,B(),D())}E.addEventListener("message",q),I(b,T),w[T]=q.bind(null,{data:{callback:T}})}),e},E.reset=function(){E.postMessage({reset:!0});for(var b in w)w[b](),delete w[b]}}return function(){if(t)return t;if(!y&&g){var E=["var CONFETTI, SIZE = {}, module = {};","("+u.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([E])))}catch(I){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",I),null}m(t)}return t}}(),s={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(t,e){return e?e(t):t}function c(t){return t!=null}function n(t,e,w){return h(t&&c(t[e])?t[e]:s[e],w)}function v(t){return t<0?0:Math.floor(t)}function d(t,e){return Math.floor(Math.random()*(e-t))+t}function f(t){return parseInt(t,16)}function C(t){return t.map(x)}function x(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:f(e.substring(0,2)),g:f(e.substring(2,4)),b:f(e.substring(4,6))}}function F(t){var e=n(t,"origin",Object);return e.x=n(e,"x",Number),e.y=n(e,"y",Number),e}function k(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function O(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function A(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function R(t,e,w,m,E,I,p,b,S){t.save(),t.translate(e,w),t.rotate(I),t.scale(m,E),t.arc(0,0,1,p,b,S),t.restore()}function U(t){var e=t.angle*(Math.PI/180),w=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*w-Math.random()*w),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar}}function N(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=e.wobbleSpeed,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var w=e.tick++/e.totalTicks,m=e.x+e.random*e.tiltCos,E=e.y+e.random*e.tiltSin,I=e.wobbleX+e.random*e.tiltCos,p=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-w)+")",t.beginPath(),e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(I-m)*e.ovalScalar,Math.abs(p-E)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):R(t,e.x,e.y,Math.abs(I-m)*e.ovalScalar,Math.abs(p-E)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var b=Math.PI/2*3,S=4*e.scalar,B=8*e.scalar,T=e.x,D=e.y,q=5,P=Math.PI/q;q--;)T=e.x+Math.cos(b)*B,D=e.y+Math.sin(b)*B,t.lineTo(T,D),b+=P,T=e.x+Math.cos(b)*S,D=e.y+Math.sin(b)*S,t.lineTo(T,D),b+=P;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(E)),t.lineTo(Math.floor(I),Math.floor(p)),t.lineTo(Math.floor(m),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function W(t,e,w,m,E){var I=e.slice(),p=t.getContext("2d"),b,S,B=z(function(T){function D(){b=S=null,p.clearRect(0,0,m.width,m.height),E(),T()}function q(){y&&!(m.width===l.width&&m.height===l.height)&&(m.width=t.width=l.width,m.height=t.height=l.height),!m.width&&!m.height&&(w(t),m.width=t.width,m.height=t.height),p.clearRect(0,0,m.width,m.height),I=I.filter(function(P){return N(p,P)}),I.length?b=o.frame(q):D()}b=o.frame(q),S=D});return{addFettis:function(T){return I=I.concat(T),B},canvas:t,promise:B,reset:function(){b&&o.cancel(b),S&&S()}}}function _(t,e){var w=!t,m=!!n(e||{},"resize"),E=n(e,"disableForReducedMotion",Boolean),I=g&&!!n(e||{},"useWorker"),p=I?r():null,b=w?k:O,S=t&&p?!!t.__confetti_initialized:!1,B=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,T;function D(P,J,Q){for(var H=n(P,"particleCount",v),G=n(P,"angle",Number),K=n(P,"spread",Number),Z=n(P,"startVelocity",Number),ge=n(P,"decay",Number),ve=n(P,"gravity",Number),me=n(P,"drift",Number),ne=n(P,"colors",C),pe=n(P,"ticks",Number),oe=n(P,"shapes"),be=n(P,"scalar"),ae=F(P),ie=H,ee=[],ye=t.width*ae.x,we=t.height*ae.y;ie--;)ee.push(U({x:ye,y:we,angle:G,spread:K,startVelocity:Z,color:ne[ie%ne.length],shape:oe[d(0,oe.length)],ticks:pe,decay:ge,gravity:ve,drift:me,scalar:be}));return T?T.addFettis(ee):(T=W(t,ee,b,J,Q),T.promise)}function q(P){var J=E||n(P,"disableForReducedMotion",Boolean),Q=n(P,"zIndex",Number);if(J&&B)return z(function(Z){Z()});w&&T?t=T.canvas:w&&!t&&(t=A(Q),document.body.appendChild(t)),m&&!S&&b(t);var H={width:t.width,height:t.height};p&&!S&&p.init(t),S=!0,p&&(t.__confetti_initialized=!0);function G(){if(p){var Z={getBoundingClientRect:function(){if(!w)return t.getBoundingClientRect()}};b(Z),p.postMessage({resize:{width:Z.width,height:Z.height}});return}H.width=H.height=null}function K(){T=null,m&&a.removeEventListener("resize",G),w&&t&&(document.body.removeChild(t),t=null,S=!1)}return m&&a.addEventListener("resize",G,!1),p?p.fire(P,H,K):D(P,H,K)}return q.reset=function(){p&&p.reset(),T&&T.reset()},q}var X;function te(){return X||(X=_(null,{useWorker:!0,resize:!0})),X}M.exports=function(){return te().apply(this,arguments)},M.exports.reset=function(){te().reset()},M.exports.create=_})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),$,!1);const Ce=$.exports;$.exports.create;if(!V)var V={map:function(u,a){var M={};return a?u.map(function(y,l){return M.index=l,a.call(M,y)}):u.slice()},naturalOrder:function(u,a){return u<a?-1:u>a?1:0},sum:function(u,a){var M={};return u.reduce(a?function(y,l,g){return M.index=g,y+a.call(M,l)}:function(y,l){return y+l},0)},max:function(u,a){return Math.max.apply(null,a?V.map(u,a):u)}};var Ie=function(){var u=5,a=8-u,M=1e3;function y(o,r,s){return(o<<2*u)+(r<<u)+s}function l(o){var r=[],s=!1;function h(){r.sort(o),s=!0}return{push:function(c){r.push(c),s=!1},peek:function(c){return s||h(),c===void 0&&(c=r.length-1),r[c]},pop:function(){return s||h(),r.pop()},size:function(){return r.length},map:function(c){return r.map(c)},debug:function(){return s||h(),r}}}function g(o,r,s,h,c,n,v){var d=this;d.r1=o,d.r2=r,d.g1=s,d.g2=h,d.b1=c,d.b2=n,d.histo=v}function L(){this.vboxes=new l(function(o,r){return V.naturalOrder(o.vbox.count()*o.vbox.volume(),r.vbox.count()*r.vbox.volume())})}function z(o,r){if(r.count()){var s=r.r2-r.r1+1,h=r.g2-r.g1+1,c=V.max([s,h,r.b2-r.b1+1]);if(r.count()==1)return[r.copy()];var n,v,d,f,C=0,x=[],F=[];if(c==s)for(n=r.r1;n<=r.r2;n++){for(f=0,v=r.g1;v<=r.g2;v++)for(d=r.b1;d<=r.b2;d++)f+=o[y(n,v,d)]||0;x[n]=C+=f}else if(c==h)for(n=r.g1;n<=r.g2;n++){for(f=0,v=r.r1;v<=r.r2;v++)for(d=r.b1;d<=r.b2;d++)f+=o[y(v,n,d)]||0;x[n]=C+=f}else for(n=r.b1;n<=r.b2;n++){for(f=0,v=r.r1;v<=r.r2;v++)for(d=r.g1;d<=r.g2;d++)f+=o[y(v,d,n)]||0;x[n]=C+=f}return x.forEach(function(k,O){F[O]=C-k}),function(k){var O,A,R,U,N,W=k+"1",_=k+"2",X=0;for(n=r[W];n<=r[_];n++)if(x[n]>C/2){for(R=r.copy(),U=r.copy(),N=(O=n-r[W])<=(A=r[_]-n)?Math.min(r[_]-1,~~(n+A/2)):Math.max(r[W],~~(n-1-O/2));!x[N];)N++;for(X=F[N];!X&&x[N-1];)X=F[--N];return R[_]=N,U[W]=R[_]+1,[R,U]}}(c==s?"r":c==h?"g":"b")}}return g.prototype={volume:function(o){var r=this;return r._volume&&!o||(r._volume=(r.r2-r.r1+1)*(r.g2-r.g1+1)*(r.b2-r.b1+1)),r._volume},count:function(o){var r=this,s=r.histo;if(!r._count_set||o){var h,c,n,v=0;for(h=r.r1;h<=r.r2;h++)for(c=r.g1;c<=r.g2;c++)for(n=r.b1;n<=r.b2;n++)v+=s[y(h,c,n)]||0;r._count=v,r._count_set=!0}return r._count},copy:function(){var o=this;return new g(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var r=this,s=r.histo;if(!r._avg||o){var h,c,n,v,d=0,f=1<<8-u,C=0,x=0,F=0;for(c=r.r1;c<=r.r2;c++)for(n=r.g1;n<=r.g2;n++)for(v=r.b1;v<=r.b2;v++)d+=h=s[y(c,n,v)]||0,C+=h*(c+.5)*f,x+=h*(n+.5)*f,F+=h*(v+.5)*f;r._avg=d?[~~(C/d),~~(x/d),~~(F/d)]:[~~(f*(r.r1+r.r2+1)/2),~~(f*(r.g1+r.g2+1)/2),~~(f*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(o){var r=this,s=o[0]>>a;return gval=o[1]>>a,bval=o[2]>>a,s>=r.r1&&s<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},L.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var r=this.vboxes,s=0;s<r.size();s++)if(r.peek(s).vbox.contains(o))return r.peek(s).color;return this.nearest(o)},nearest:function(o){for(var r,s,h,c=this.vboxes,n=0;n<c.size();n++)((s=Math.sqrt(Math.pow(o[0]-c.peek(n).color[0],2)+Math.pow(o[1]-c.peek(n).color[1],2)+Math.pow(o[2]-c.peek(n).color[2],2)))<r||r===void 0)&&(r=s,h=c.peek(n).color);return h},forcebw:function(){var o=this.vboxes;o.sort(function(c,n){return V.naturalOrder(V.sum(c.color),V.sum(n.color))});var r=o[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(o[0].color=[0,0,0]);var s=o.length-1,h=o[s].color;h[0]>251&&h[1]>251&&h[2]>251&&(o[s].color=[255,255,255])}},{quantize:function(o,r){if(!o.length||r<2||r>256)return!1;var s=function(f){var C,x=new Array(1<<3*u);return f.forEach(function(F){C=y(F[0]>>a,F[1]>>a,F[2]>>a),x[C]=(x[C]||0)+1}),x}(o);s.forEach(function(){});var h=function(f,C){var x,F,k,O=1e6,A=0,R=1e6,U=0,N=1e6,W=0;return f.forEach(function(_){(x=_[0]>>a)<O?O=x:x>A&&(A=x),(F=_[1]>>a)<R?R=F:F>U&&(U=F),(k=_[2]>>a)<N?N=k:k>W&&(W=k)}),new g(O,A,R,U,N,W,C)}(o,s),c=new l(function(f,C){return V.naturalOrder(f.count(),C.count())});function n(f,C){for(var x,F=f.size(),k=0;k<M;){if(F>=C||k++>M)return;if((x=f.pop()).count()){var O=z(s,x),A=O[0],R=O[1];if(!A)return;f.push(A),R&&(f.push(R),F++)}else f.push(x),k++}}c.push(h),n(c,.75*r);for(var v=new l(function(f,C){return V.naturalOrder(f.count()*f.volume(),C.count()*C.volume())});c.size();)v.push(c.pop());n(v,r);for(var d=new L;v.size();)d.push(v.pop());return d}}}().quantize,le=function(u){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=u.naturalWidth,this.height=this.canvas.height=u.naturalHeight,this.context.drawImage(u,0,0,this.width,this.height)};le.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var Y=function(){};Y.prototype.getColor=function(u,a){return a===void 0&&(a=10),this.getPalette(u,5,a)[0]},Y.prototype.getPalette=function(u,a,M){var y=function(z){var o=z.colorCount,r=z.quality;if(o!==void 0&&Number.isInteger(o)){if(o===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");o=Math.max(o,2),o=Math.min(o,20)}else o=10;return(r===void 0||!Number.isInteger(r)||r<1)&&(r=10),{colorCount:o,quality:r}}({colorCount:a,quality:M}),l=new le(u),g=function(z,o,r){for(var s,h,c,n,v,d=z,f=[],C=0;C<o;C+=r)h=d[0+(s=4*C)],c=d[s+1],n=d[s+2],((v=d[s+3])===void 0||v>=125)&&(h>250&&c>250&&n>250||f.push([h,c,n]));return f}(l.getImageData().data,l.width*l.height,y.quality),L=Ie(g,y.colorCount);return L?L.palette():null},Y.prototype.getColorFromUrl=function(u,a,M){var y=this,l=document.createElement("img");l.addEventListener("load",function(){var g=y.getPalette(l,5,M);a(g[0],u)}),l.src=u},Y.prototype.getImageData=function(u,a){var M=new XMLHttpRequest;M.open("GET",u,!0),M.responseType="arraybuffer",M.onload=function(){if(this.status==200){var y=new Uint8Array(this.response);i=y.length;for(var l=new Array(i),g=0;g<y.length;g++)l[g]=String.fromCharCode(y[g]);var L=l.join(""),z=window.btoa(L);a("data:image/png;base64,"+z)}},M.send()},Y.prototype.getColorAsync=function(u,a,M){var y=this;this.getImageData(u,function(l){var g=document.createElement("img");g.addEventListener("load",function(){var L=y.getPalette(g,5,M);a(L[0],this)}),g.src=l})};const ue=new Y,se=document.querySelector("#confetti-button"),j=document.querySelector("#dog-image"),fe=document.querySelector("#image-url-input");if(!se||!j||!fe)throw new Error("Issue with selectors");const ce=u=>`rgb(${u[0]},${u[1]},${u[2]})`,re=(u,a)=>Math.random()*(a-u)+u,de=u=>{const a=["#ee2fbe","#abe2de","#65ae3c"],M={particleCount:re(50,100),angle:re(55,125),spread:re(50,70),origin:{y:.6},colors:u||a};Ce(M)},xe=()=>{de()},he=()=>{const u=ue.getColor(j);document.body.style.backgroundColor=ce(u);const a=ue.getPalette(j).map(ce);de(a)},Ee=u=>{j.src=u.currentTarget.value};se.addEventListener("click",xe);fe.addEventListener("input",Ee);j.addEventListener("load",he);j.complete&&he()});export default Te();
